(this["webpackJsonpreact-cui"]=this["webpackJsonpreact-cui"]||[]).push([[0],{13:function(e,t,n){e.exports=n(20)},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(11),s=n.n(i),c=(n(18),n(1)),o=n(2),u=n(5),h=n(4),m=n(3),l=function(e){return a.a.createElement("div",null,e.history.map((function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"cli-text"},a.a.createElement("span",{className:"user-span"},e.username),a.a.createElement("span",{className:"dir-span"},"".concat(e.entry.getName()," $")),a.a.createElement("span",null,e.command)),a.a.createElement("div",{className:"cli-text"},e.result))})))},d=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={command:"",escapedCommand:"",index:0},r.onKeyDown=r.onKeyDown.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"onKeyDown",value:function(e){var t,n;switch(e.keyCode){case 13:this.props.executeCommand(this.state.command),this.setState({command:"",escapedCommand:"",index:this.props.history.length});break;case 38:n=this.state.index===this.props.history.length?this.state.command:this.state.escapedCommand,t=Math.max(0,this.state.index-1),this.setState({command:this.props.history[t],escapedCommand:n,index:t});break;case 40:t=Math.min(this.props.history.length,this.state.index+1),this.setState({command:t===this.props.history.length?this.state.escapedCommand:this.props.history[t],index:t})}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"input-div"},a.a.createElement("span",{className:"user-span"},this.props.username),a.a.createElement("span",{className:"dir-span"},"".concat(this.props.entry.getName()," $")),a.a.createElement("input",{className:"cli-input",onChange:function(t){return e.setState({command:t.target.value})},value:this.state.command,onKeyDown:this.onKeyDown}))}}]),n}(a.a.Component),y=n(9),f=n(12),v=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),r=t.call(this,e),Object.setPrototypeOf(Object(u.a)(r),n.prototype),r}return n}(Object(f.a)(Error)),p=function(){function e(){Object(c.a)(this,e),this._parent=void 0,this._parent=null}return Object(o.a)(e,[{key:"getRoot",value:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},{key:"add",value:function(e){throw new v('this Entry is NOT able to executable "add"')}},{key:"pwd",value:function(){return((null===this.parent?"":this.parent.pwd())+"/"+this.getName()).replace("//","/")}},{key:"mkdir",value:function(e){throw new v('this Entry is NOT able to executable "mkdir"')}},{key:"get",value:function(e,t){throw new v('this Entry is NOT able to executable "get"')}},{key:"cd",value:function(e){throw new v('this Entry is NOT able to executable "cd"')}},{key:"ls",value:function(){throw new v('this Entry is NOT able to executable "ls"')}},{key:"edit",value:function(e){throw new v('this Entry is NOT able to executable "edit"')}},{key:"cat",value:function(){throw new v('this Entry is NOT able to executable "cat"')}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e}}]),e}(),w=function(){function e(t,n){Object(c.a)(this,e),this._username=void 0,this.entry=void 0,this._username=t,this.entry=n}return Object(o.a)(e,[{key:"pwd",value:function(e){return{username:this._username,entry:this.entry,command:e,result:this.entry.pwd()}}},{key:"cd",value:function(e,t){var n=this.entry;if(0===e.length){for(this.entry=this.entry.getRoot();null!==this.entry.parent;)this.entry=this.entry.parent;return{username:this._username,entry:n,command:t,result:null}}var r=null;if(".."===e[0])this.entry=this.entry.parent?this.entry.parent:this.entry;else{var a=e[0].split("/").filter((function(e){return""!==e}));try{var i,s=Object(y.a)(a);try{for(s.s();!(i=s.n()).done;){var c=i.value;this.entry=this.entry.cd(c)}}catch(o){s.e(o)}finally{s.f()}}catch(u){if(!(u instanceof v))throw u;this.entry=n,r=u.message}}return{username:this._username,entry:n,command:t,result:r}}},{key:"ls",value:function(e){return{username:this._username,entry:this.entry,command:e,result:this.entry.ls().join("\n")}}},{key:"mkdir",value:function(e,t){if(0===e.length)return{username:this._username,entry:this.entry,command:t,result:"usage: mkdir directory"};var n=null;try{this.entry.mkdir(e[0])}catch(r){if(!(r instanceof v))throw r;n=r.message}return{username:this._username,entry:this.entry,command:t,result:n}}},{key:"cat",value:function(e,t){if(0===e.length)return{username:this._username,entry:this.entry,command:t,result:"usage: cat file"};var n=null;try{n=this.entry.get(e[0],"cat").cat()}catch(r){if(!(r instanceof v))throw r;n=r.message}return{username:this._username,entry:this.entry,command:t,result:n}}},{key:"execute",value:function(e){var t=e.split(" ").filter((function(e){return""!==e}));if(0===t.length)return{username:this._username,entry:this.entry,command:e,result:null};var n=t.slice(1);switch(t[0]){case"pwd":return this.pwd(e);case"cd":return this.cd(n,e);case"ls":return this.ls(e);case"mkdir":return this.mkdir(n,e);case"cat":return this.cat(n,e);default:return{username:this._username,entry:this.entry,command:e,result:"command not found: ".concat(t[0])}}}},{key:"username",get:function(){return this._username}},{key:"dir",get:function(){return this.entry}}]),e}(),b=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this)).name=void 0,r.content=void 0,r.name=e,r.content="",r}return Object(o.a)(n,[{key:"edit",value:function(e){this.content=e}},{key:"cat",value:function(){return this.content}},{key:"getName",value:function(){return this.name}}]),n}(p),k=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;if(Object(c.a)(this,n),(r=t.call(this)).name=void 0,r.directory=void 0,""===e)throw new v("directory with empty name is invalid");return r.name=e,r.directory=[],r}return Object(o.a)(n,[{key:"add",value:function(e){return this.directory.push(e),e.parent=this,e}},{key:"mkdir",value:function(e){this.directory.forEach((function(t){if(t.getName()===e)throw new v("mkdir: ".concat(e,": File exists"))}));var t=new n(e);return this.add(t),t}},{key:"get",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",r=Object(y.a)(this.directory);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.getName()===e)return a}}catch(i){r.e(i)}finally{r.f()}throw new v("".concat(n,": no such file or directory: ").concat(e))}},{key:"cd",value:function(e){var t=this.get(e,"cd");if(t instanceof n)return t;throw new v("cd: not a directory: ".concat(e))}},{key:"ls",value:function(){return this.directory.map((function(e){return e.getName()})).sort()}},{key:"cat",value:function(){throw new v("cat: ".concat(this.getName(),": Is a directory"))}},{key:"getName",value:function(){return this.name}}],[{key:"root",value:function(){return function(){var e=new n("root");return e.name="",e}()}}]),n}(p),g=(n(19),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).exec=void 0,r.state={history:[]},r.exec=new w("tomoya",function(){var e=k.root(),t=new k("product"),n=new k("documents");e.add(t),e.add(n);var r=new b("poem.txt");r.edit("poepoe poem");var a=new b("photo.png");t.add(r),t.add(a);var i=new b("memo.txt");i.edit("memo is memorial");var s=new b("note.tex");return n.add(i),n.add(s),e}()),r.executeCommand=r.executeCommand.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"executeCommand",value:function(e){var t=this.exec.execute(e);this.setState({history:this.state.history.concat([t])})}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(l,{history:this.state.history}),a.a.createElement(d,{username:this.exec.username,entry:this.exec.dir,history:this.state.history.map((function(e){return e.command})).filter((function(e){return e.replace(/\s/g,"").length>0})),executeCommand:this.executeCommand}))}}]),n}(a.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.df699fa7.chunk.js.map